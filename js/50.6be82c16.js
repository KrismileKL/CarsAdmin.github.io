"use strict";(self["webpackChunkcars_admin"]=self["webpackChunkcars_admin"]||[]).push([[50],{3185:function(e,t,r){r.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-cascader",{class:{"cascader-input":e.initValueFlag},attrs:{filterable:"",placeholder:e.initValue,options:e.cascader_options,props:e.cascader_props},on:{change:e.changeValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},o=[],n=r(9322),s={name:"",data(){const e=this;return{address:[],addressData:{},value:[],cascader_options:[],cascader_props:{lazy:!0,lazyLoad(t,r){const a=t.level,o={},s={0:{type:"province"},1:{type:"city",code:"province"},2:{type:"area",code:"city"}};s[a].code&&(o[`${s[a].code}_code`]=t.value),o.type=s[a].type,(0,n.Df)(o).then((t=>{const o=t.data.data,n=s[a].type.toUpperCase();o.forEach((e=>{e.value=e[`${n}_CODE`],e.label=e[`${n}_NAME`],2===a&&(e.leaf=a>=2)})),e.addressData[s[a].type]=o,r(o)})),0!==t.level&&e.getAddress(t)}},initValue:"请选择省市区",initValueFlag:!1}},methods:{initDefault(e){e&&(this.initValueFlag=!0,this.initValue=e.split(",").join(" / "))},changeValue(e){this.$emit("update:cityAreaValue",e.join());const t=e[e.length-1],r=this.addressData.area.filter((e=>e.value==t))[0];this.address[2]=r.label,this.getAddress()},getAddress(e){if(e){const t=e.level-1;this.address[t]=e.label}this.mapLocation&&this.$emit("callback",{function:"setMapCenter",data:{address:this.address.join("")}})},clear(){console.log(11111),this.value=""}},components:{},props:{mapLocation:{type:Boolean,default:!1},cityAreaValue:{type:String,default:""}}},i=s,l=r(1001),d=(0,l.Z)(i,a,o,!1,null,"1a447781",null),u=d.exports},1115:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"parking-add"},[r("VueForm",{ref:"vuForm",attrs:{formData:e.form_data,formItme:e.form_item,formHandler:e.form_handler,labelWidth:"150px"}})],1)},o=[],n=r(9466),s=r(8802);function i(e,t){const r={};for(let a in e)Object.keys(t).includes(a)&&(r[a]=t[a]);return r}var l={name:"MemberInfo",data(){return{id:this.$route.query.id,form_data:{username:"",truename:"",cardId:"",gender:"",illegalAmount:"",cardPhotoFace:"",cardPhotoBack:"",cardPhotoBareheaded:"",carsPhotoFace:"",carsPhotoBack:"",blacklist:""},form_item:[{type:"Input",label:"用户名",placeholder:"请输入用户名",prop:"username",required:!0,width:"200px"},{type:"Input",label:"真实姓名",placeholder:"请输入真实姓名",prop:"truename",required:!0},{type:"Input",label:"身份证",placeholder:"请输入身份证",prop:"cardId",required:!0},{type:"Radio",label:"性别",prop:"gender",options:this.$store.state.config.gender,required:!0},{type:"InputNumber",label:"违章预存金",prop:"illegalAmount",required:!0},{type:"Upload",label:"身份证（正面）",prop:"cardPhotoFace",required:!0,requestFlag:!0},{type:"Upload",label:"身份证（反面）",prop:"cardPhotoBack",required:!0},{type:"Upload",label:"身份证（免冠）",prop:"cardPhotoBareheaded",required:!0},{type:"Upload",label:"驾驶证（正面）",prop:"carsPhotoFace",required:!0},{type:"Upload",label:"驾驶证（反面）",prop:"carsPhotoBack",required:!0},{type:"Radio",label:"黑名单",prop:"blacklist",options:this.$store.state.config.blacklist,required:!0}],form_handler:[{label:"确定",key:"submit",type:"danger",handler:()=>this.formValidate()},{label:"重置",key:"reset"}],button_loading:!1}},components:{VueForm:n.Z},beforeMount(){this.id&&this.detailed()},mounted(){},methods:{detailed(){(0,s.a_)({id:this.id}).then((e=>{const t=i(this.form_data,e.data);this.form_data=t}))},formValidate(){this.$refs.vuForm.$refs.form.validate((e=>{if(!e)return console.log("error submit!!"),!1;this.id&&this.editMember()}))},editMember(){(0,s.I8)({...this.form_data,id:this.id}).then((e=>{this.$message({message:e.message,type:"success"}),this.$router.go(-1)}))},callbackComponent(e){e.function&&this[e.function](e.data)}}},d=l,u=r(1001),c=(0,u.Z)(d,a,o,!1,null,"b75c6f30",null),p=c.exports},9322:function(e,t,r){r.d(t,{HG:function(){return l},oG:function(){return d},Df:function(){return s},Re:function(){return u},Hp:function(){return c},Vj:function(){return i}});var a=r(4471);const o={parkingList:"/parking/list/",parkingListDelete:"/parking/delete/",brandList:"/brand/list/",brandListDelete:"/brand/delete/",carsList:"/cars/list/",carsListDelete:"/cars/delete/",carsAttrList:"/carsAttr/list/",leaseList:"/lease/list/",memberList:"/member/list/",memberListDelete:"/member/delete/",orderList:"/order/list/"};var n=o;function s(e={}){return a.Z.request({method:"post",url:"/cityPicker/",data:e})}function i(e={}){return a.Z.request({method:"post",url:n[e.url],data:e.data})}function l(e={}){return a.Z.request({method:"post",url:n[e.url],data:e.data})}function d(e={}){return a.Z.request({method:"post",url:"/common/getCarsBrand/",data:e})}function u(e={}){return a.Z.request({method:"post",url:"/common/getParking/",data:e})}function c(e={}){return a.Z.request({method:"post",url:"/uploadImgToken/",data:e})}},8802:function(e,t,r){r.d(t,{I8:function(){return n},Pz:function(){return l},TZ:function(){return i},a_:function(){return o},dx:function(){return s},lf:function(){return d}});var a=r(4471);function o(e={}){return a.Z.request({method:"post",url:"/member/detailed/",data:e})}function n(e={}){return a.Z.request({method:"post",url:"/member/edit/",data:e})}function s(e={}){return a.Z.request({method:"post",url:"/member/updateRealName/",data:e})}function i(e={}){return a.Z.request({method:"post",url:"/member/blacklist/",data:e})}function l(e={}){return a.Z.request({method:"post",url:"/member/photo/",data:e})}function d(e={}){return a.Z.request({method:"post",url:"/member/amountClear/",data:e})}}}]);